<div style="background-color: rgb(18, 172, 151); height: 100px;">
<div style="padding-top: 30px; padding-left: 470px;">
  <nz-input-group nzCompact style="width: 1000px;">
    <div class="example-input">
      <input required style="height: 40px;" placeholder='Chọn điểm đi' nz-input [(ngModel)]="inputValue"
         [nzAutocomplete]="auto" (ngModelChange)="onChange($event)"/>
      <nz-autocomplete [nzDataSource]="filteredOptions" #auto></nz-autocomplete>
    </div>
    <div class="example-input">
      <input required [(ngModel)]="inputValue2"style="height: 40px;" placeholder='Chọn điểm đến' nz-input [nzAutocomplete]="auto" (ngModelChange)="onChange($event)"/>
      <nz-autocomplete [nzDataSource]="filteredOptions" #auto></nz-autocomplete>
    </div>
    <div>
      <nz-date-picker nzPlaceHolder="Chọn ngày" style="height: 40px; text-align: center; margin: 0;"
        [(ngModel)]="date" nzFormat="dd/MM/yyyy"></nz-date-picker>
    </div>
    <div> 

      <button nz-button nzType="primary" nzSize="large" style="height: 40px; text-align: center; margin: 0;">
        <span nzTheme="outline" style=" width: 170px; text-align: center; height: 50px;" (click)="getAllByRoute()">Tìm vé</span>
      </button>
    </div>
  </nz-input-group>
</div>
</div>



<!-- <nz-modal [(nzVisible)]="isVisible" nzTitle="Thông tin đặt chuyến" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()"
  nzWidth="1000px">
  <ng-container *nzModalContent>
    <div nz-row>


      <div nz-col nzSpan="8">
        <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"></span>
        <p>Ghế được chọn</p>

        <span style="font-size: 30px;" class="xam" nz-icon nzType="close-square" nzTheme="outline"></span>
        <p>Ghế không được chọn</p>


        <span style="font-size: 30px;" class="do" nz-icon nzType="border" nzTheme="outline"></span>
        <p>Ghế đang chọn</p>
      </div>

      <div nz-row [nzGutter]="16" nz-col nzSpan="8">
        <table>
          <tbody>
            <tr>
              <td>
                <img src="../../assets/icon/volang.png" alt="" style="width: 30px ; height: 30px;">
              </td>
            </tr>
            <tr>
              <td>
                <div [ngClass]="data2[0].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(0)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[0].trangthai != 2" [ngClass]="data2[0].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[0].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[1].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(1)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[1].trangthai != 2" [ngClass]="data2[1].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[1].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[2].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(2)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[2].trangthai != 2" [ngClass]="data2[2].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[2].trangthai == 2" class="xam"></span>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div [ngClass]="data2[3].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(3)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[3].trangthai != 2" [ngClass]="data2[3].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[3].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[4].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(4)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[4].trangthai != 2" [ngClass]="data2[4].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[4].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[5].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(5)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[5].trangthai != 2" [ngClass]="data2[5].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[5].trangthai == 2" class="xam"></span>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div [ngClass]="data2[6].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(6)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[6].trangthai != 2" [ngClass]="data2[6].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[6].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[7].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(7)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[7].trangthai != 2" [ngClass]="data2[7].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[7].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[8].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(8)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[8].trangthai != 2" [ngClass]="data2[8].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[8].trangthai == 2" class="xam"></span>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div [ngClass]="data2[9].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(9)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[9].trangthai != 2" [ngClass]="data2[9].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[9].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[10].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(10)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[10].trangthai != 2" [ngClass]="data2[10].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[10].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[11].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(11)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[11].trangthai != 2" [ngClass]="data2[11].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[11].trangthai == 2" class="xam"></span>
                </div>
              </td>
            </tr>

            <tr>
              <td>
                <div [ngClass]="data2[12].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(12)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[12].trangthai != 2" [ngClass]="data2[12].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[12].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[13].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(13)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[13].trangthai != 2" [ngClass]="data2[13].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[13].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[14].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(14)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[14].trangthai != 2" [ngClass]="data2[14].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[14].trangthai == 2" class="xam"></span>
                </div>
              </td>
              <td>
                <div [ngClass]="data2[15].trangthai == 2 ? 'disable' : ''" title="Ghế số 1" (click)="chuyenMau(15)">
                  <span style="font-size: 30px;" nz-icon nzType="border" nzTheme="outline"
                    *ngIf="data2[15].trangthai != 2" [ngClass]="data2[15].trangthai == 1 ? 'do' : 'xanh'"></span>
                  <span style="font-size: 30px;" nz-icon nzType="close-square" nzTheme="outline"
                    *ngIf="data2[15].trangthai == 2" class="xam"></span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div nz-col nzSpan="8">
        <nz-form-item>
          <nz-form-control nzErrorTip="Vui lòng nhập họ tên của bạn!">
            <nz-input-group nzPrefixIcon="user">
              <input type="text" nz-input formControlName="userName" placeholder="Họ và tên người đi" />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control nzErrorTip="Vui lòng nhập email!">
            <nz-input-group nzPrefixIcon="mail">
              <input type="text" nz-input formControlName="email" placeholder="Email để nhận thông tin vé" />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control nzErrorTip="Vui lòng nhập số điện thoại!">
            <nz-input-group nzPrefixIcon="phone">
              <input type="text" nz-input formControlName="phone" placeholder="Số điện thoại" />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="form">
              <input type="text" nz-input formControlName="note" placeholder="Ghi chú" />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div>

    </div>
  </ng-container>
</nz-modal> -->

<nz-list nzGrid style="margin-top: 20px;">
  <div nz-row [nzGutter]="48">
    <div nz-col [nzSpan]="12" *ngFor="let item of datas">
      <nz-list-item>
        <nz-card>
          <div nz-row [nzGutter]="16">
            <div nz-col class="gutter-row" [nzSpan]="8">
              <div class="inner-box">
                <img style="height: 130px;" nz-col [nzSpan]="20" alt="example" src="../../assets/icon/xe16.jpg" />
              </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="8">
              <div class="inner-box">
                <h3>{{item.coachOwner}}</h3>
                <p>Số chỗ ngồi : {{ item.numberOfSeats }}</p>
                <p>Thời gian đi : {{ item.schedule | date: 'dd/MM/yyyy • hh:mm'}}</p>
                <!-- <p>Điểm đi : {{ item.from }} • {{ item.schedule }}</p>
                <p>Điểm đến : {{ item.to }} • {{ item.schedule }}</p> -->
                <button nz-button nzType="primary" (click)="datve(item)">
                  Chọn chuyến
                </button>
              </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="8">
              <div class="inner-box">
                <h3>Giá vé : {{item.ticketPrice | currency: "VND"}}</h3>
                <p>Còn {{ item.emptySeats }} chỗ trống</p>
                <div>
                  <a (click)="thongtin(item)">Thông tin chi tiết</a>
                </div>
              </div>
            </div>
          </div>
        </nz-card>
      </nz-list-item>
    </div>
  </div>
</nz-list>
  <nz-empty *ngIf="datas?.length ==0"></nz-empty>




<nz-modal style="resize: none; height: 700px;" [(nzVisible)]="isVisible2" nzTitle="Mua vé" (nzOnCancel)="handleCancel()" nzWidth="700px" [nzFooter]=null>
<nz-steps [nzCurrent]="current">
  <nz-step nzTitle="Chỗ mong muốn"></nz-step>
  <nz-step nzTitle="Nhập thông tin"></nz-step>
</nz-steps>

<div  *ngIf = "index === 0" class="steps-content">
  <div nz-row>
    <div nz-col nzSpan="12" >
      <svg width = "30px" height = "30px" class="khongchuyen" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
    <g>
     <g>
       <path  d="M432.613,348.736c-3.872-1.706-7.722-3.008-11.492-3.981c1.68-7.537,3.097-15.447,4.276-23.675
         c2.091-14.558,1.532-29.479-1.576-44.059l-26.646-124.91c-4.613-16.407-13.781-29.182-26.559-38.998
         c7.581-9.664,10.672-22.816,6.732-35.738l-8.005-47.968l-1.042-3.912C362.625,10.203,348.073,0,331.767,0H180.258
         c-16.29,0-30.824,10.181-36.535,25.44l-13.86,51.58c-5.074,13.54-1.075,28.288,8.384,38.424
         c-11.093,9.27-19.061,20.91-23.129,35.322L88.12,277.014c-3.109,14.586-3.668,29.508-1.576,44.073
         c1.179,8.232,2.597,16.146,4.278,23.686c-3.744,0.971-7.566,2.267-11.41,3.96c-22.543,9.934-36.731,30.48-36.731,60.325
         c0.683,14.501,5.085,33.088,16.639,51.945c19.423,31.701,52.814,50.92,100.452,50.985c0.077,0.001,0.152,0.012,0.23,0.012h192
         c0.056,0,0.109-0.008,0.165-0.008c47.675-0.042,81.092-19.266,100.529-50.985c11.555-18.856,15.961-37.441,16.622-50.9
         C469.344,379.216,455.157,358.67,432.613,348.736z M183.174,42.667h145.125l7.12,42.667h-67.644c-2.425-0.032-4.808-0.032-7.136,0
         h-88.924L183.174,42.667z M129.848,285.915l26.665-124.9c3.386-11.834,18.426-21.817,43.274-27.72
         c10.376-2.465,21.666-4.008,33.2-4.769c4.929-0.325,9.502-0.485,13.577-0.526h3.889c1.062,0.01,2.095,0.025,3.064,0.051
         c1.298,0.041,1.298,0.041,1.399,0.047c2.208-0.006,2.208-0.006,3.506-0.047c0.969-0.026,2.003-0.041,3.064-0.051h3.886
         c4.077,0.041,8.653,0.201,13.584,0.526c11.537,0.761,22.83,2.305,33.208,4.771c24.848,5.905,39.893,15.889,43.617,29.066
         l26.311,123.556c2.07,9.712,2.439,19.571,1.07,29.103c-5.363,37.44-17.238,63.667-32.217,68.25
         c-0.151,0.041-0.299,0.092-0.451,0.129c-0.039,0.011-0.079,0.018-0.118,0.029c-0.394,0.092-0.795,0.164-1.197,0.228
         c-6.045-2.153-14.371-4.742-24.541-7.304c-22.151-5.581-45.354-8.935-68.668-8.935c-23.304,0-46.505,3.354-68.659,8.934
         c-10.029,2.526-18.255,5.076-24.28,7.211c-0.089,0.031-0.187,0.065-0.275,0.096c-0.38-0.062-0.759-0.129-1.132-0.216
         c-0.054-0.014-0.109-0.025-0.164-0.04c-0.163-0.04-0.322-0.094-0.484-0.139c-14.971-4.599-26.838-30.818-32.199-68.237
         C127.408,305.488,127.778,295.628,129.848,285.915z M95.702,438.713c-4.196-6.849-7.092-14.33-8.867-21.821
         c-1.036-4.373-1.448-7.558-1.512-8.876c0.025-11.431,3.838-16.953,11.295-20.239c1.817-0.801,3.734-1.405,5.62-1.84
         c3.782,5.992,8.006,11.337,12.687,15.987c6.633,8.433,14.486,14.948,23.744,19.173v46.323
         C118.265,463.433,104.671,453.353,95.702,438.713z M181.348,469.333v-46.897c0.018-0.006,0.036-0.012,0.054-0.018
         c1.149-0.374,2.332-0.748,3.544-1.121c0.107-0.033,0.213-0.066,0.32-0.099c1.215-0.372,2.46-0.743,3.735-1.111
         c0.091-0.026,0.184-0.053,0.275-0.079c2.691-0.774,5.509-1.536,8.447-2.276c18.976-4.779,38.786-7.642,58.256-7.642
         c19.461,0,39.264,2.862,58.237,7.642c4.497,1.133,8.718,2.318,12.621,3.516c0.021,0.006,0.042,0.013,0.062,0.019
         c1.29,0.396,2.545,0.794,3.764,1.191c0.001,0,0.003,0.001,0.004,0.001v46.873H181.348z M425.189,416.89
         c-1.776,7.492-4.674,14.974-8.871,21.824c-8.973,14.642-22.569,24.724-42.973,28.71v-46.36
         c9.028-4.135,16.716-10.453,23.24-18.602c4.89-4.767,9.285-10.289,13.21-16.52c1.884,0.435,3.798,1.039,5.614,1.839
         c7.457,3.286,11.269,8.808,11.269,21.281C426.638,409.33,426.225,412.517,425.189,416.89z"/>
     </g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    </svg>
      <p>Ghế được chọn</p>
      <svg width = "30px" height = "30px" class="chuyenxam" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
    <g>
     <g>
       <path  d="M432.613,348.736c-3.872-1.706-7.722-3.008-11.492-3.981c1.68-7.537,3.097-15.447,4.276-23.675
         c2.091-14.558,1.532-29.479-1.576-44.059l-26.646-124.91c-4.613-16.407-13.781-29.182-26.559-38.998
         c7.581-9.664,10.672-22.816,6.732-35.738l-8.005-47.968l-1.042-3.912C362.625,10.203,348.073,0,331.767,0H180.258
         c-16.29,0-30.824,10.181-36.535,25.44l-13.86,51.58c-5.074,13.54-1.075,28.288,8.384,38.424
         c-11.093,9.27-19.061,20.91-23.129,35.322L88.12,277.014c-3.109,14.586-3.668,29.508-1.576,44.073
         c1.179,8.232,2.597,16.146,4.278,23.686c-3.744,0.971-7.566,2.267-11.41,3.96c-22.543,9.934-36.731,30.48-36.731,60.325
         c0.683,14.501,5.085,33.088,16.639,51.945c19.423,31.701,52.814,50.92,100.452,50.985c0.077,0.001,0.152,0.012,0.23,0.012h192
         c0.056,0,0.109-0.008,0.165-0.008c47.675-0.042,81.092-19.266,100.529-50.985c11.555-18.856,15.961-37.441,16.622-50.9
         C469.344,379.216,455.157,358.67,432.613,348.736z M183.174,42.667h145.125l7.12,42.667h-67.644c-2.425-0.032-4.808-0.032-7.136,0
         h-88.924L183.174,42.667z M129.848,285.915l26.665-124.9c3.386-11.834,18.426-21.817,43.274-27.72
         c10.376-2.465,21.666-4.008,33.2-4.769c4.929-0.325,9.502-0.485,13.577-0.526h3.889c1.062,0.01,2.095,0.025,3.064,0.051
         c1.298,0.041,1.298,0.041,1.399,0.047c2.208-0.006,2.208-0.006,3.506-0.047c0.969-0.026,2.003-0.041,3.064-0.051h3.886
         c4.077,0.041,8.653,0.201,13.584,0.526c11.537,0.761,22.83,2.305,33.208,4.771c24.848,5.905,39.893,15.889,43.617,29.066
         l26.311,123.556c2.07,9.712,2.439,19.571,1.07,29.103c-5.363,37.44-17.238,63.667-32.217,68.25
         c-0.151,0.041-0.299,0.092-0.451,0.129c-0.039,0.011-0.079,0.018-0.118,0.029c-0.394,0.092-0.795,0.164-1.197,0.228
         c-6.045-2.153-14.371-4.742-24.541-7.304c-22.151-5.581-45.354-8.935-68.668-8.935c-23.304,0-46.505,3.354-68.659,8.934
         c-10.029,2.526-18.255,5.076-24.28,7.211c-0.089,0.031-0.187,0.065-0.275,0.096c-0.38-0.062-0.759-0.129-1.132-0.216
         c-0.054-0.014-0.109-0.025-0.164-0.04c-0.163-0.04-0.322-0.094-0.484-0.139c-14.971-4.599-26.838-30.818-32.199-68.237
         C127.408,305.488,127.778,295.628,129.848,285.915z M95.702,438.713c-4.196-6.849-7.092-14.33-8.867-21.821
         c-1.036-4.373-1.448-7.558-1.512-8.876c0.025-11.431,3.838-16.953,11.295-20.239c1.817-0.801,3.734-1.405,5.62-1.84
         c3.782,5.992,8.006,11.337,12.687,15.987c6.633,8.433,14.486,14.948,23.744,19.173v46.323
         C118.265,463.433,104.671,453.353,95.702,438.713z M181.348,469.333v-46.897c0.018-0.006,0.036-0.012,0.054-0.018
         c1.149-0.374,2.332-0.748,3.544-1.121c0.107-0.033,0.213-0.066,0.32-0.099c1.215-0.372,2.46-0.743,3.735-1.111
         c0.091-0.026,0.184-0.053,0.275-0.079c2.691-0.774,5.509-1.536,8.447-2.276c18.976-4.779,38.786-7.642,58.256-7.642
         c19.461,0,39.264,2.862,58.237,7.642c4.497,1.133,8.718,2.318,12.621,3.516c0.021,0.006,0.042,0.013,0.062,0.019
         c1.29,0.396,2.545,0.794,3.764,1.191c0.001,0,0.003,0.001,0.004,0.001v46.873H181.348z M425.189,416.89
         c-1.776,7.492-4.674,14.974-8.871,21.824c-8.973,14.642-22.569,24.724-42.973,28.71v-46.36
         c9.028-4.135,16.716-10.453,23.24-18.602c4.89-4.767,9.285-10.289,13.21-16.52c1.884,0.435,3.798,1.039,5.614,1.839
         c7.457,3.286,11.269,8.808,11.269,21.281C426.638,409.33,426.225,412.517,425.189,416.89z"/>
     </g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    </svg>
      <p>Ghế không được chọn</p>
      <svg width = "30px" height = "30px" class="chuyenxanh" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
    <g>
     <g>
       <path  d="M432.613,348.736c-3.872-1.706-7.722-3.008-11.492-3.981c1.68-7.537,3.097-15.447,4.276-23.675
         c2.091-14.558,1.532-29.479-1.576-44.059l-26.646-124.91c-4.613-16.407-13.781-29.182-26.559-38.998
         c7.581-9.664,10.672-22.816,6.732-35.738l-8.005-47.968l-1.042-3.912C362.625,10.203,348.073,0,331.767,0H180.258
         c-16.29,0-30.824,10.181-36.535,25.44l-13.86,51.58c-5.074,13.54-1.075,28.288,8.384,38.424
         c-11.093,9.27-19.061,20.91-23.129,35.322L88.12,277.014c-3.109,14.586-3.668,29.508-1.576,44.073
         c1.179,8.232,2.597,16.146,4.278,23.686c-3.744,0.971-7.566,2.267-11.41,3.96c-22.543,9.934-36.731,30.48-36.731,60.325
         c0.683,14.501,5.085,33.088,16.639,51.945c19.423,31.701,52.814,50.92,100.452,50.985c0.077,0.001,0.152,0.012,0.23,0.012h192
         c0.056,0,0.109-0.008,0.165-0.008c47.675-0.042,81.092-19.266,100.529-50.985c11.555-18.856,15.961-37.441,16.622-50.9
         C469.344,379.216,455.157,358.67,432.613,348.736z M183.174,42.667h145.125l7.12,42.667h-67.644c-2.425-0.032-4.808-0.032-7.136,0
         h-88.924L183.174,42.667z M129.848,285.915l26.665-124.9c3.386-11.834,18.426-21.817,43.274-27.72
         c10.376-2.465,21.666-4.008,33.2-4.769c4.929-0.325,9.502-0.485,13.577-0.526h3.889c1.062,0.01,2.095,0.025,3.064,0.051
         c1.298,0.041,1.298,0.041,1.399,0.047c2.208-0.006,2.208-0.006,3.506-0.047c0.969-0.026,2.003-0.041,3.064-0.051h3.886
         c4.077,0.041,8.653,0.201,13.584,0.526c11.537,0.761,22.83,2.305,33.208,4.771c24.848,5.905,39.893,15.889,43.617,29.066
         l26.311,123.556c2.07,9.712,2.439,19.571,1.07,29.103c-5.363,37.44-17.238,63.667-32.217,68.25
         c-0.151,0.041-0.299,0.092-0.451,0.129c-0.039,0.011-0.079,0.018-0.118,0.029c-0.394,0.092-0.795,0.164-1.197,0.228
         c-6.045-2.153-14.371-4.742-24.541-7.304c-22.151-5.581-45.354-8.935-68.668-8.935c-23.304,0-46.505,3.354-68.659,8.934
         c-10.029,2.526-18.255,5.076-24.28,7.211c-0.089,0.031-0.187,0.065-0.275,0.096c-0.38-0.062-0.759-0.129-1.132-0.216
         c-0.054-0.014-0.109-0.025-0.164-0.04c-0.163-0.04-0.322-0.094-0.484-0.139c-14.971-4.599-26.838-30.818-32.199-68.237
         C127.408,305.488,127.778,295.628,129.848,285.915z M95.702,438.713c-4.196-6.849-7.092-14.33-8.867-21.821
         c-1.036-4.373-1.448-7.558-1.512-8.876c0.025-11.431,3.838-16.953,11.295-20.239c1.817-0.801,3.734-1.405,5.62-1.84
         c3.782,5.992,8.006,11.337,12.687,15.987c6.633,8.433,14.486,14.948,23.744,19.173v46.323
         C118.265,463.433,104.671,453.353,95.702,438.713z M181.348,469.333v-46.897c0.018-0.006,0.036-0.012,0.054-0.018
         c1.149-0.374,2.332-0.748,3.544-1.121c0.107-0.033,0.213-0.066,0.32-0.099c1.215-0.372,2.46-0.743,3.735-1.111
         c0.091-0.026,0.184-0.053,0.275-0.079c2.691-0.774,5.509-1.536,8.447-2.276c18.976-4.779,38.786-7.642,58.256-7.642
         c19.461,0,39.264,2.862,58.237,7.642c4.497,1.133,8.718,2.318,12.621,3.516c0.021,0.006,0.042,0.013,0.062,0.019
         c1.29,0.396,2.545,0.794,3.764,1.191c0.001,0,0.003,0.001,0.004,0.001v46.873H181.348z M425.189,416.89
         c-1.776,7.492-4.674,14.974-8.871,21.824c-8.973,14.642-22.569,24.724-42.973,28.71v-46.36
         c9.028-4.135,16.716-10.453,23.24-18.602c4.89-4.767,9.285-10.289,13.21-16.52c1.884,0.435,3.798,1.039,5.614,1.839
         c7.457,3.286,11.269,8.808,11.269,21.281C426.638,409.33,426.225,412.517,425.189,416.89z"/>
     </g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    <g>
    </g>
    </svg>
      <p>Ghế đang chọn</p>
    </div>

    <div class="coach">
      <div nz-row [nzGutter]="16" nz-col nzSpan="12" style="padding: 20px;">
        <table>
          <tbody *ngIf="datatest[0]?.seats?.length == 4">
            <tr>
              <td>
                <img src="../../assets/icon/volang.png" alt="" style="width: 30px ; height: 30px;">
              </td>
            </tr>
            <tr *ngFor="let data of datatest[0]?.seats; let i = index">
              <td
                 [ngClass]="data.status == 0 ? 'disable' : ''" title="Ghế số: {{data.seatNo}} - Giá: {{data.customPrice}}" (click)="chuyenMau(data)">
                  <svg *ngIf="data.status != 0" [ngClass]="data.status == 1 ? 'khongchuyen' : 'chuyenxanh'" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                <g>
                 <g>
                   <path  d="M432.613,348.736c-3.872-1.706-7.722-3.008-11.492-3.981c1.68-7.537,3.097-15.447,4.276-23.675
                     c2.091-14.558,1.532-29.479-1.576-44.059l-26.646-124.91c-4.613-16.407-13.781-29.182-26.559-38.998
                     c7.581-9.664,10.672-22.816,6.732-35.738l-8.005-47.968l-1.042-3.912C362.625,10.203,348.073,0,331.767,0H180.258
                     c-16.29,0-30.824,10.181-36.535,25.44l-13.86,51.58c-5.074,13.54-1.075,28.288,8.384,38.424
                     c-11.093,9.27-19.061,20.91-23.129,35.322L88.12,277.014c-3.109,14.586-3.668,29.508-1.576,44.073
                     c1.179,8.232,2.597,16.146,4.278,23.686c-3.744,0.971-7.566,2.267-11.41,3.96c-22.543,9.934-36.731,30.48-36.731,60.325
                     c0.683,14.501,5.085,33.088,16.639,51.945c19.423,31.701,52.814,50.92,100.452,50.985c0.077,0.001,0.152,0.012,0.23,0.012h192
                     c0.056,0,0.109-0.008,0.165-0.008c47.675-0.042,81.092-19.266,100.529-50.985c11.555-18.856,15.961-37.441,16.622-50.9
                     C469.344,379.216,455.157,358.67,432.613,348.736z M183.174,42.667h145.125l7.12,42.667h-67.644c-2.425-0.032-4.808-0.032-7.136,0
                     h-88.924L183.174,42.667z M129.848,285.915l26.665-124.9c3.386-11.834,18.426-21.817,43.274-27.72
                     c10.376-2.465,21.666-4.008,33.2-4.769c4.929-0.325,9.502-0.485,13.577-0.526h3.889c1.062,0.01,2.095,0.025,3.064,0.051
                     c1.298,0.041,1.298,0.041,1.399,0.047c2.208-0.006,2.208-0.006,3.506-0.047c0.969-0.026,2.003-0.041,3.064-0.051h3.886
                     c4.077,0.041,8.653,0.201,13.584,0.526c11.537,0.761,22.83,2.305,33.208,4.771c24.848,5.905,39.893,15.889,43.617,29.066
                     l26.311,123.556c2.07,9.712,2.439,19.571,1.07,29.103c-5.363,37.44-17.238,63.667-32.217,68.25
                     c-0.151,0.041-0.299,0.092-0.451,0.129c-0.039,0.011-0.079,0.018-0.118,0.029c-0.394,0.092-0.795,0.164-1.197,0.228
                     c-6.045-2.153-14.371-4.742-24.541-7.304c-22.151-5.581-45.354-8.935-68.668-8.935c-23.304,0-46.505,3.354-68.659,8.934
                     c-10.029,2.526-18.255,5.076-24.28,7.211c-0.089,0.031-0.187,0.065-0.275,0.096c-0.38-0.062-0.759-0.129-1.132-0.216
                     c-0.054-0.014-0.109-0.025-0.164-0.04c-0.163-0.04-0.322-0.094-0.484-0.139c-14.971-4.599-26.838-30.818-32.199-68.237
                     C127.408,305.488,127.778,295.628,129.848,285.915z M95.702,438.713c-4.196-6.849-7.092-14.33-8.867-21.821
                     c-1.036-4.373-1.448-7.558-1.512-8.876c0.025-11.431,3.838-16.953,11.295-20.239c1.817-0.801,3.734-1.405,5.62-1.84
                     c3.782,5.992,8.006,11.337,12.687,15.987c6.633,8.433,14.486,14.948,23.744,19.173v46.323
                     C118.265,463.433,104.671,453.353,95.702,438.713z M181.348,469.333v-46.897c0.018-0.006,0.036-0.012,0.054-0.018
                     c1.149-0.374,2.332-0.748,3.544-1.121c0.107-0.033,0.213-0.066,0.32-0.099c1.215-0.372,2.46-0.743,3.735-1.111
                     c0.091-0.026,0.184-0.053,0.275-0.079c2.691-0.774,5.509-1.536,8.447-2.276c18.976-4.779,38.786-7.642,58.256-7.642
                     c19.461,0,39.264,2.862,58.237,7.642c4.497,1.133,8.718,2.318,12.621,3.516c0.021,0.006,0.042,0.013,0.062,0.019
                     c1.29,0.396,2.545,0.794,3.764,1.191c0.001,0,0.003,0.001,0.004,0.001v46.873H181.348z M425.189,416.89
                     c-1.776,7.492-4.674,14.974-8.871,21.824c-8.973,14.642-22.569,24.724-42.973,28.71v-46.36
                     c9.028-4.135,16.716-10.453,23.24-18.602c4.89-4.767,9.285-10.289,13.21-16.52c1.884,0.435,3.798,1.039,5.614,1.839
                     c7.457,3.286,11.269,8.808,11.269,21.281C426.638,409.33,426.225,412.517,425.189,416.89z"/>
                 </g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                </svg>
                <svg *ngIf="data.status == 0" class="chuyenxam" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
              <g>
               <g>
                 <path d="M432.613,348.736c-3.872-1.706-7.722-3.008-11.492-3.981c1.68-7.537,3.097-15.447,4.276-23.675
                   c2.091-14.558,1.532-29.479-1.576-44.059l-26.646-124.91c-4.613-16.407-13.781-29.182-26.559-38.998
                   c7.581-9.664,10.672-22.816,6.732-35.738l-8.005-47.968l-1.042-3.912C362.625,10.203,348.073,0,331.767,0H180.258
                   c-16.29,0-30.824,10.181-36.535,25.44l-13.86,51.58c-5.074,13.54-1.075,28.288,8.384,38.424
                   c-11.093,9.27-19.061,20.91-23.129,35.322L88.12,277.014c-3.109,14.586-3.668,29.508-1.576,44.073
                   c1.179,8.232,2.597,16.146,4.278,23.686c-3.744,0.971-7.566,2.267-11.41,3.96c-22.543,9.934-36.731,30.48-36.731,60.325
                   c0.683,14.501,5.085,33.088,16.639,51.945c19.423,31.701,52.814,50.92,100.452,50.985c0.077,0.001,0.152,0.012,0.23,0.012h192
                   c0.056,0,0.109-0.008,0.165-0.008c47.675-0.042,81.092-19.266,100.529-50.985c11.555-18.856,15.961-37.441,16.622-50.9
                   C469.344,379.216,455.157,358.67,432.613,348.736z M183.174,42.667h145.125l7.12,42.667h-67.644c-2.425-0.032-4.808-0.032-7.136,0
                   h-88.924L183.174,42.667z M129.848,285.915l26.665-124.9c3.386-11.834,18.426-21.817,43.274-27.72
                   c10.376-2.465,21.666-4.008,33.2-4.769c4.929-0.325,9.502-0.485,13.577-0.526h3.889c1.062,0.01,2.095,0.025,3.064,0.051
                   c1.298,0.041,1.298,0.041,1.399,0.047c2.208-0.006,2.208-0.006,3.506-0.047c0.969-0.026,2.003-0.041,3.064-0.051h3.886
                   c4.077,0.041,8.653,0.201,13.584,0.526c11.537,0.761,22.83,2.305,33.208,4.771c24.848,5.905,39.893,15.889,43.617,29.066
                   l26.311,123.556c2.07,9.712,2.439,19.571,1.07,29.103c-5.363,37.44-17.238,63.667-32.217,68.25
                   c-0.151,0.041-0.299,0.092-0.451,0.129c-0.039,0.011-0.079,0.018-0.118,0.029c-0.394,0.092-0.795,0.164-1.197,0.228
                   c-6.045-2.153-14.371-4.742-24.541-7.304c-22.151-5.581-45.354-8.935-68.668-8.935c-23.304,0-46.505,3.354-68.659,8.934
                   c-10.029,2.526-18.255,5.076-24.28,7.211c-0.089,0.031-0.187,0.065-0.275,0.096c-0.38-0.062-0.759-0.129-1.132-0.216
                   c-0.054-0.014-0.109-0.025-0.164-0.04c-0.163-0.04-0.322-0.094-0.484-0.139c-14.971-4.599-26.838-30.818-32.199-68.237
                   C127.408,305.488,127.778,295.628,129.848,285.915z M95.702,438.713c-4.196-6.849-7.092-14.33-8.867-21.821
                   c-1.036-4.373-1.448-7.558-1.512-8.876c0.025-11.431,3.838-16.953,11.295-20.239c1.817-0.801,3.734-1.405,5.62-1.84
                   c3.782,5.992,8.006,11.337,12.687,15.987c6.633,8.433,14.486,14.948,23.744,19.173v46.323
                   C118.265,463.433,104.671,453.353,95.702,438.713z M181.348,469.333v-46.897c0.018-0.006,0.036-0.012,0.054-0.018
                   c1.149-0.374,2.332-0.748,3.544-1.121c0.107-0.033,0.213-0.066,0.32-0.099c1.215-0.372,2.46-0.743,3.735-1.111
                   c0.091-0.026,0.184-0.053,0.275-0.079c2.691-0.774,5.509-1.536,8.447-2.276c18.976-4.779,38.786-7.642,58.256-7.642
                   c19.461,0,39.264,2.862,58.237,7.642c4.497,1.133,8.718,2.318,12.621,3.516c0.021,0.006,0.042,0.013,0.062,0.019
                   c1.29,0.396,2.545,0.794,3.764,1.191c0.001,0,0.003,0.001,0.004,0.001v46.873H181.348z M425.189,416.89
                   c-1.776,7.492-4.674,14.974-8.871,21.824c-8.973,14.642-22.569,24.724-42.973,28.71v-46.36
                   c9.028-4.135,16.716-10.453,23.24-18.602c4.89-4.767,9.285-10.289,13.21-16.52c1.884,0.435,3.798,1.039,5.614,1.839
                   c7.457,3.286,11.269,8.808,11.269,21.281C426.638,409.33,426.225,412.517,425.189,416.89z"/>
               </g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              </svg>
              </td>
            </tr>
          </tbody>
          <tbody *ngIf="datatest[0]?.seats?.length != 4">
               <h3>Chuyến này không hỗ trợ chọn chỗ</h3>
               <div>
                <p>Số lượng ghế:</p>
                <button nz-button nzType="text" nzShape="circle" (click)="tru()">
                  -
                </button>
                <span>{{count}}</span>
                <button nz-button nzType="text" nzShape="circle" (click)="cong()">
                  +
                </button>
               </div>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>

<!-- <div *ngIf = "index === 1" class="steps-content">
  <div nz-row>
    <div nz-col nzSpan="8">
      <h3>Điểm đón</h3>
      <nz-radio-group [(ngModel)]="radioValue"  *ngFor="let data of datatest[0]?.pickups">
        <label nz-radio nzValue="{{data.id}}">{{data.address}}</label>
      </nz-radio-group>
    </div>
    <div  nz-col nzSpan="8" nzOffset="8" >
      <h3>Điểm trả</h3>
      <nz-radio-group [(ngModel)]="radioValue2" *ngFor="let item of datatest[0]?.dropOffs">
        <label nz-radio nzValue="{{item.id}}">{{item.address}}</label>
      </nz-radio-group>
    </div>
  </div>
</div> -->

<div *ngIf = "index === 1" class="steps-content">
  <div style="width: 300px; margin: auto;">
    <form nz-form [formGroup]="validateForm">
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng nhập họ tên của bạn!">
          <nz-input-group nzPrefixIcon="user">
            <input [(ngModel)] = "hoTen" formControlName="name" type="text" nz-input placeholder="Họ và tên người đi" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng nhập email!">
          <nz-input-group nzPrefixIcon="mail">
            <input [(ngModel)] = "email" formControlName="email" type="text" nz-input placeholder="Email để nhận thông tin vé" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="Vui lòng nhập số điện thoại!">
          <nz-input-group nzPrefixIcon="phone">
            <input [(ngModel)] = "soDienThoai" formControlName="phone" type="text" nz-input placeholder="Số điện thoại" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control>
          <nz-input-group nzPrefixIcon="form">
            <input type="text" nz-input placeholder="Ghi chú" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
    </form>

  </div>
</div>
<div class="steps-action">
  <button nz-button nzType="default" (click)="pre()" *ngIf="current > 0">
    <span>Quay lại</span>
  </button>
  <button nz-button nzType="default" (click)="next()" *ngIf="current < 1">
    <span>Tiếp theo</span>
  </button>
  <button nz-button nzType="primary" (click)="thanhtoan()" *ngIf="current === 1">
    <span>Thanh Toán</span>
  </button>
  <div style="float: right;">
    <h4><span>Tổng tiền: {{totalPaymentAmount}} VNĐ</span></h4>
  </div>
</div>
</nz-modal>


<nz-modal [(nzVisible)]="isHienthi" nzTitle="Chọn điểm đón điểm trả" (nzOnCancel)="handleCancelChonCho()" (nzOnOk)="handleChonCho()">
  <ng-container *nzModalContent>
    <div nz-row>
      <div nz-col nzSpan="8">
        <h3>Điểm đón</h3>
        <nz-radio-group [(ngModel)]="radioValue"  *ngFor="let data of datatest[0]?.pickups">
          <label nz-radio nzValue="{{data.id}}">{{data.address}}</label>
        </nz-radio-group>
      </div>
      <div  nz-col nzSpan="8" nzOffset="8" >
        <h3>Điểm trả</h3>
        <nz-radio-group [(ngModel)]="radioValue2" *ngFor="let item of datatest[0]?.dropOffs">
          <label nz-radio nzValue="{{item.id}}">{{item.address}}</label>
        </nz-radio-group>
      </div>
    </div>
  </ng-container>
</nz-modal>


